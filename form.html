<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src='https://www.google.com/recaptcha/api.js'></script>
<div class="g-recaptcha" data-sitekey="6LcXNhAUAAAAAD5LX_MTjJC7cNDuDPesw2NKljjH"></div>

<form id="contact-form">
  <label for="name">Name:</label>
  <input type="text" id="name" placeholder="Your name" />
  <br><br>
  <label for="email">Email:</label>
  <input type="email" id="email" placeholder="Your email"/>
  <br><br>
  <label for="message">Message:</label>
  <textarea id="message" rows="3" placeholder="Your message"></textarea>
  <br><br>
  <button type="submit">Submit</button>
</form>

<script>
var URL = 'https://1r3pcfbnq6.execute-api.us-east-1.amazonaws.com/prod/contact';

$('#contact-form').submit(function (event) {
  event.preventDefault();
  var captchta_response = grecaptcha.getResponse();
  console.log(captchta_response);
  var json_post_data = {
    name: $('#name').val(),
    email: $('#email').val(),
    message: $('#message').val(),
    captchta: captchta_response
  };
 

  $.ajax({
    type: 'POST',
    url: URL,
    dataType: 'json',
    crossDomain: true,
    contentType: 'application/json',
    data: JSON.stringify(json_post_data),
    success: function (responseData, textStatus, jqXHR) {
      if(responseData.message == 'success'){
      }
      
    },
  })
})


</script>